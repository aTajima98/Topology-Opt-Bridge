# Topology-Opt-Bridge

## 作品名
トポロジー最適化を用いた橋の2Dモデルプログラム．
![demo](img/topoligy.gif)

## 概要
このプログラムは，トポロジー最適化を用いて橋の2Dモデル作成の様子を見る．
トポロジー最適化は，DTU.dkのtopopt.pyを参考にしている．

URL：DTU.dk."Topology optimization codes written in Python"

https://www.topopt.mek.dtu.dk/Apps-and-software/Topology-optimization-codes-written-in-Python

## トポロジー最適化

## プログラムの構成

1. 初期個体集団をランダムに生成．
2. 交叉の適応
3. 突然変異の適応
4. 個体集団の評価
5. 次世代に残す個体の選択
6. 2~5の操作を最大世代数に達するまで繰り返す


## 環境
- ファイル構造
  - timetable
    - 出発時間を記録したファイル集合
  - time_riding
    - 各駅，急行などの場合の乗車時間を記録したファイル集合
  - stamp.py
  
- 実行環境
  - Python 3.8
  - numpy
  - scipy
  - matplotlib
  
## 注意事項
- 本プログラムは，スタート地点とゴール地点を「武蔵藤沢」に固定している．
  - スタートとゴールの変更を行う際は，プログラムのスタート(0)変更と時刻表の追加を行う必要がある．
- 本プログラムはスタートを9:30に設定している．
  - スタート時間はstamp.pyのdef evaluateにおいて変更できる．
- 本プログラムは厳密な下車時刻を使用せずに，電車の出発時間と乗車駅から目的の下車駅までの平均乗車時間により，トータル所要時間を予測している．そのため，実際の時間と若干の誤差が確認されている．
  - N=5のとき誤差およそ11分，N増加により誤差蓄積される．時刻表のデータ作成の渡し方を大きく変更する必要がある．
- 初期個体によっては最良個体に収束しないことがある．
  - 突然変異や交叉の改善を行うことで改善が見られると考える．

